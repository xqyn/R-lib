<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Calculate relative log abundances 'rla' calculates the...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for rla {MsCoreUtils}"><tr><td>rla {MsCoreUtils}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Calculate relative log abundances
<code>rla</code> calculates the relative log abundances (RLA, see reference) on a
<code>numeric</code> vector. <code>rowRla</code> performs row-wise RLA calculations on a numeric
<code>matrix</code>.</h2>

<h3>Description</h3>

<p>Calculate relative log abundances
</p>
<p><code>rla</code> calculates the relative log abundances (RLA, see reference) on a
<code>numeric</code> vector. <code>rowRla</code> performs row-wise RLA calculations on a numeric
<code>matrix</code>.
</p>


<h3>Usage</h3>

<pre>
rla(
  x,
  f = rep_len(1, length(x)),
  transform = c("log2", "log10", "identity"),
  na.rm = TRUE
)

rowRla(x, f = rep_len(1, ncol(x)), transform = c("log2", "log10", "identity"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p><code>numeric</code> (for <code>rla</code>) or <code>matrix</code> (for <code>rowRla</code>) with the
abundances (in natural scale) on which the RLA should be calculated.</p>
</td></tr>
<tr valign="top"><td><code>f</code></td>
<td>
<p><code>factor</code>, <code>numeric</code> or <code>character</code> with the same length than <code>x</code>
(or, for <code>rowRla</code> equal to the number of columns of <code>x</code>) allowing to
define the grouping of values in <code>x</code>. If omitted all values are
considered to be from the same group.</p>
</td></tr>
<tr valign="top"><td><code>transform</code></td>
<td>
<p><code>character(1)</code> defining the function to transform <code>x</code>.
Defaults to <code>transform = "log2"</code> which <code>log2</code> transforms <code>x</code> prior to
calculation. If <code>x</code> is already in log scale use <code>transform = "identity"</code>
to avoid transformation of the values.</p>
</td></tr>
<tr valign="top"><td><code>na.rm</code></td>
<td>
<p><code>logical(1)</code> whether <code>NA</code> values should be removed prior to
calculation of the group-wise medians.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The RLA is defined as the (log2) abundance of an analyte relative
to the median across all abundances of that analyte in samples of the
same group. The grouping of values can be defined with parameter <code>f</code>.
</p>


<h3>Value</h3>

<p><code>numeric</code> with the relative log abundances (in log2 scale) with the
same length than <code>x</code> (for <code>rla</code>) or <code>matrix</code> with the same dimensions
than <code>x</code> (for <code>rowRla</code>).
</p>


<h3>Author(s)</h3>

<p>Johannes Rainer
</p>


<h3>References</h3>

<p>De Livera AM, Dias DA, De Souza D, Rupasinghe T, Pyke J, Tull D, Roessner U,
McConville M, Speed TP. Normalizing and integrating metabolomics data.
<em>Anal Chem</em> 2012 Dec 18;84(24):10768-76.
</p>


<h3>Examples</h3>

<pre>

x &lt;- c(3, 4, 5, 1, 2, 3, 7, 8, 9)

grp &lt;- c(1, 1, 1, 2, 2, 2, 3, 3, 3)

rla(x, grp)

x &lt;- rbind(c(324, 4542, 3422, 3232, 5432, 6535, 3321, 1121),
     c(12, 3341, 3034, 6540, 34, 4532, 56, 1221))
grp &lt;- c("a", "b", "b", "b", "a", "b", "a", "b")

## row-wise RLA values
rowRla(x, grp)
</pre>

<hr /><div style="text-align: center;">[Package <em>MsCoreUtils</em> version 1.4.0 <a href="00Index.html">Index</a>]</div>
</body></html>
